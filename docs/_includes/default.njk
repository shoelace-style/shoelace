<!doctype html>
<html
  lang="en"
  data-layout="{{ layout }}"
  data-shoelace-version="{{ meta.version }}"
  data-upstream-version="{{ meta.upstreamVersion }}"
>
  <head>
    {# Metadata #}
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="{{ meta.description }}" />
    <title>{{ meta.title }}</title>

    {# Opt out of Turbo caching #}
    <meta name="turbo-cache-control" />

    {# Stylesheets #}
    <link rel="stylesheet" href="{{ assetUrl('styles/docs.css') }}" />
    <link rel="stylesheet" href="{{ assetUrl('styles/code-previews.css') }}" />
    <link rel="stylesheet" href="{{ assetUrl('styles/search.css') }}" />

    {# Favicons #}
    <link rel="icon" href="{{ assetUrl('images/ts-alee.svg') }}" type="image/x-icon" />

    {# Twitter Cards #} {#
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:creator" content="shoelace_style" />
    <meta name="twitter:image" content="{{ assetUrl(meta.image, true) }}" />
    #} {# OpenGraph #}
    <meta property="og:url" content="{{ rootUrl(page.url, true) }}" />
    <meta property="og:title" content="{{ meta.title }}" />
    <meta property="og:description" content="{{ meta.description }}" />
    <meta property="og:image" content="{{ assetUrl(meta.image, true) }}" />

    {# Shoelace #}
    <link rel="stylesheet" href="/dist/themes/light.css" />
    <link rel="stylesheet" href="/dist/themes/dark.css" />
    <script type="module" src="/dist/shoelace-autoloader.js"></script>

    {# Teamshares #}
    <link rel="stylesheet" href="/dist/styles/index.css" />
    <script type="module">
      import { registerExternalLibraries } from '/dist/utilities/icon-library.js';
      registerExternalLibraries();
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />

    {# Set the initial theme and menu states here to prevent flashing #}
    <script>
      (() => {
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const theme = localStorage.getItem('theme') || 'auto';
        document.documentElement.classList.toggle(
          'sl-theme-dark',
          theme === 'dark' || (theme === 'auto' && prefersDark)
        );
      })();
    </script>

    {# Turbo + Scroll positioning #}
    <script src="{{ assetUrl('scripts/turbo.js') }}" type="module"></script>
    <script src="{{ assetUrl('scripts/docs.js') }}" defer></script>
    <script src="{{ assetUrl('scripts/code-previews.js') }}" defer></script>
    <script src="{{ assetUrl('scripts/lunr.js') }}" defer></script>
    <script src="{{ assetUrl('scripts/search.js') }}" defer></script>
  </head>
  <body>
    <a id="skip-to-main" class="visually-hidden" href="#main-content" data-smooth-link="false">
      Skip to main content
    </a>

    {# Menu toggle #}
    <button id="menu-toggle" type="button" aria-label="Menu">
      <svg width="148" height="148" viewBox="0 0 148 148" xmlns="http://www.w3.org/2000/svg">
        <g stroke="currentColor" stroke-width="18" fill="none" fill-rule="evenodd" stroke-linecap="round">
          <path d="M9.5 125.5h129M9.5 74.5h129M9.5 23.5h129"></path>
        </g>
      </svg>
    </button>

    {# Icon toolbar #} {# Hiding this since we aren't using multiple themes yet #} {#
    <div id="icon-toolbar">
      #} {# GitHub #} {#
      <a href="https://github.com/shoelace-style/shoelace" title="View Shoelace on GitHub">
        <sl-icon name="github"></sl-icon>
      </a>
      #} {# Twitter #} {#
      <a href="https://twitter.com/shoelace_style" title="Follow Shoelace on Twitter">
        <sl-icon name="twitter"></sl-icon>
      </a>
      #} {# Theme selector #} {#
      <sl-dropdown id="theme-selector" placement="bottom-end" distance="3">
        <sl-button slot="trigger" size="small" variant="text" caret title="Press \ to toggle">
          <sl-icon class="only-light" name="sun-fill"></sl-icon>
          <sl-icon class="only-dark" name="moon-fill"></sl-icon>
        </sl-button>
        <sl-menu>
          <sl-menu-item type="checkbox" value="light">Light</sl-menu-item>
          <sl-menu-item type="checkbox" value="dark">Dark</sl-menu-item>
          <sl-divider></sl-divider>
          <sl-menu-item type="checkbox" value="auto">System</sl-menu-item>
        </sl-menu>
      </sl-dropdown>
      #} {#
    </div>
    #}

    <aside id="sidebar" data-preserve-scroll>
      <header>
        <a href="/">
          <img src="{{ assetUrl('images/wordmark.svg') }}" alt="Shoelace" />
        </a>
        <sl-button-group>
          <sl-button
            outline
            size="small"
            class="repo-button repo-button--github"
            href="https://github.com/teamshares/shoelace/tree/v{{ meta.version }}"
            target="_blank"
          >
            <sl-icon slot="prefix" library="fa" name="fab-github"></sl-icon> Version {{ meta.version }}
          </sl-button>
          <sl-button
            outline
            size="small"
            class="repo-button repo-button--github"
            href="https://github.com/shoelace-style/shoelace/tree/v{{ meta.upstreamVersion }}"
            target="_blank"
          >
            Upstream {{ meta.upstreamVersion }}
          </sl-button>
        </sl-button-group>
      </header>

      <button class="search-box" type="button" title="Press / to search" aria-label="Search" data-plugin="search">
        <sl-icon library="fa" name="search"></sl-icon>
        <span>Search</span>
      </button>

      <nav>{% include 'sidebar.njk' %}</nav>
    </aside>

    {# Content #}
    <main>
      <a id="main-content"></a>
      <article id="content" class="content{% if toc %} content--with-toc{% endif %}">
        {% if toc %}
        <div class="content__toc">
          <ul>
            <li class="top"><a href="#">On this page</a></li>
          </ul>
        </div>
        {% endif %}

        <div class="content__body">
          {% block content %}
          {{ content | safe }}
          {% endblock %}
        </div>
      </article>
    </main>
  </body>
</html>
